/* eslint-disable */
/* istanbul ignore file */
// .........................................................                                                      ..
// ..................................   ................      ▒▒▒▒▓▓▓▓▓
// .................................  ▒ .............    ▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░
// ................................  ▓▓ .........     ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░
// ...............................  ▓▓▓ ......      ▒▓▓▓░░░░░░░░░░░░▓▓▓▓▓▓▓▓▒▒▒▒▒░
// .............................   ░▓▓▒  ...    █  ▓█▓             ░░░░░░▒▒▒▒▒▒▒▒▒▒░
// ............................   ▒░▓▓▒▒█    ░ ▒██▒ ░░░░░░▓▓▓▓▓▓▓▓▒    ░░░▒▒▒▒▒▒▒▒▒▒▒░
// .......................         ▓▓▓▓▒▒ ▓ ░██▓ ░▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓   ░░░▒▒▒▒▒▒▒▒▒░
// ..................        ▓▓▓▓▓ ▒░▓▓▓▒▒░ ▓ ░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█▓▓▓   ░░▒▒▒▒▒▒▒▒░
// .............         ▓▓▓▓█████▓ ▒░▓▓▓▒▒▒ ▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█▓▓▓▒  ░░▒▒▒▒▒▒▒░
// ........         ▓▓▓▓████████████ ░░░░▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█████▓▓▓▓▓▓▒  ░▒▒▒░▒▒▒░
// ......      ▓▓▓██████████████▓▓▓░  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█▓▓▓▓█▓▓█▓▓████▓▓▓▓▓▒ ░░▒ ░▒▒▒░
// .       ▓▓▓▓███████████▓▓       ▒▓▓▓▓▓▓▓▓▓▓█▓▓▓▓▓▓█▓▓▓██▓▓▓▓▓▓▓▓███▓▓▓▓▓█▓▓▓▓▓▒  ░▒ ░▒▒░░   ▓█
//    ▓▓▓▓████████▓▓▓▓▓    ░░  ▒▓▓▓▓▓▓▓▓▓▓▓▓█▓▓▓█▓▓█▓▓████▓▓▓▓▓█▓▓▓▓▓██▓▓▓▓▓▓▓▓▓▓▓▒▒ ░░ ░░░░ ▒█▓░          ...
// ▓▓███████████▓▓     ░░░░  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█▓▓▓█▓██▓▓██▓▓▓██▓▓▓▒▒▓▓▓█▓▓▓▓▓▓▓▓▓▓▒▒▒ ░░ ░░ ██▓▓        .......
// █████████▓▓    ░░░░░░░  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓███▓▓▓▓█▓▓██▓▓▓▓▓▒▒▒▓▓▓▓░▒▓▓▓▓▓▓▓▓▒▒▒ ░░ ░█░░▓▓      .........
// █████▓▓▓   ░░░░░░░░░░  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█▓▓▓▓█▓▓▓▓▓▓█▓██▓▓▓▓▓▓▓ ░▒▒▒▓▓▓▒▒▒▓▓▓▓▓▓▒▒▒ ░ ██░▓▓▓░    ............
// ███▓    ░░░░░░░░░░░   ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██▓▓▓▓ ▓▓▓▓▓░▓▓░▒▒▒▒▒▓▒▒▒▒▒▓▓▓▒▒▒ █▓░░▓▓▓        .............
// █▓  ░░░░░░░░░░░░░░░░ ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░▒▓▓▓▓▒▓▓▓▓░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒░█▓ ░▓██▓ ▒▒▒▒▒░    ..........
//   ░░░░░░░░░░░░░░░░░ ░▓▓▓▓▒▓▓▓▓▓▓▓▓▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░▓▓▓▓▓▒ ▓▓▓ ▒▒▒ ▒▒▒▒▒▒▒▒▒▒▒██▓ ▓ ████ ▒▒▒▒▒▒▒▒▒ ..........
// ░░░░░░░░░░░░░░░░░░░ ▒▓▓▓░▒▓▓▓▓▓▓▓░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒░▓ ▓▓▒▒░▓▓▓ ▒▒▒▒░     ▒▒▒▒ ██▓ ▓▓▒ ██▓▒▒▒        .....
// ░░░░░░░░░░░░░░░░░░░ ▒▓▓▒▒▒▓▓▓▓▓▓▒▒▓▓▓▓▓▓▓▓▓▒▓▓▓▓▓▓▓▓▒░█ ▓▒▒▒▒ ▓▓ ▒▒▒▒ ▓▓▓▓▓░ ▒  ▓█▓ ▒██▓░█▓ ▒▒▒▒░  ......      ░░
// ░░░░░░░░   ░░░░░░░░ ▒▓▓ ▒▒▓▓▓▓▓░▒▒▓▓▓▓▓▓▓▓▒▒▓▓▓▓▓▓▒▒░▓▓ ▒▒▒▒ ▓▓ ▒▒▒ ░░▓▓▓▓▓░ ▒░▓▓▓░▓▓██▓██▓ ▒▒▒▒▒░ ....    ░░░░░░
// ░░░░         ░░░░░░  ▒▓░▒▒▒▓▓▓▒░▒▓▓▓▓▓▓▓▒▒▒▓▓▓▓▓▓▒▒ █▓▓ ▒▒▒░█▓ ▒▒░      ▓▓▓▓ ▒▒▓▓▓ ▓▓██▓█▓█░▒▒▒▒▒▒       ░░░░░░░░
// ░░░             ░░░░  ▒░▒▒▒▓▓▒▒ ▒▓▓▓▓▓▓░▒▒▒▓▓▓▓▒▒▒ ▓▓▓ ░▒▒░█▓░▒▒ ░    ██  ▓▓ ▓▒▓▓▓ ▓▒████▓ ▒▒ ░▒▒▒       ░░░░░░░░
// ░                ░░░   ░▒▒▒▒▓▒ ▒▒▓▓▓▓▒▒▒▒▒▓▓▓▒▒▒▒ █▓▓▓ ▒▒ ▓▓▓ ▒   █  ░  █░▓▓ ▓▒ ▓▓░▒████▓ ░▒▒▒ ░░▒░       ░░░░░░░
// ░░     ▒▒▒        ░░░░  ▒▒▒▒▓▒ ▒▒▓▓▓▒▒▒ ▒▓▓▓▒▒▒▒ ▒▒ ▓▓ ▒ ▓▓▓░ ░░█     ░██░▓▓ ▓▒▒▓ ▒████▓░ ▒▒▒▒▒           ░░░░░░░
// ░░░░    ████       ░░░░  ▒▒▒▒▒░▒▒▓▒▒▒▒▒ ▒▒▒▒▒▒▒ █  ▒▒ ░▒ ▓▓░░█▓░  ░░  ░  ▒▓▓ ▒▓▒░▓▓██▓▓     ░             ░░░░░░░
// ░░░░░     ▒▒▒          ░ ░▒▒▒▒░▒▒▒▒▒▒▒▒░▒▒▒▒▒▒ ░█ █   ▒ ▓▓▓██████░░     ▓▓▓▓▓ ▓▒▒ ▓▓▓ ░ ▒▓▓▓▓             ░░░░░░░
// ░░░░░░░            █▓▓▓▓▓░ ▒▒▒▒ ▒▒▒▒▒▒▒ ▒▒▒▒▒ ▓ █▓    ░ ▓▓███████████▓▓▓▓▓▓▓▓ ▓▓░▒  ▓▓▓▓ █▓▓▓▓▓░         ░░░░░░░░
// ░░░░░░░░░          ░ ▓▓▓▓▓▓ ░▒▒▒░▒▒▒▒▒▒░▒▒▒▒▒ ▓▓  ░░ ▒██▓████████████████▓▓▓▓▓ ▓▓░▒ ▓▓▓▓▒▓▓▓▓▓▓▓█    ░▓▒   ░░░░░░
// ░░░░░░░░░          ██▓▓▓▓▓▓▓▓  ▒░▒▒▒▒▒▒ ▒▒▒▒   ▓▓█   ░ █░████████████████▓▓▓▓▓ ▓▓▓░▒░▓▓▓█▓▓▓▓▓▓▓  ▓▒▒▒░      ░░░░
// ░░░░░░░░░       ▓██▓▓▓▓▓▓▓▓▓▓▓▓ ▒ ▒▒▒▒▒ ▒▒▒▒    ▓▓▓██▓▓░██▓▓▓████████████▓▓▓▓▓░ ▓▓▓░▒▒ █▓▒▓▓    ▒▒▓▒▒
// ░░░░░░░░░ ▓   ░██▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓  ▒░▒▒▒▒░▒▒▒    ░▓████ ██▓▓▓▓▓▓██████████▓▓▓▓▓▓░ ▓▓▓▓▓▒▒    ▓▓▓▓▒▒▒▒
// ░░░░░░░░ ██▓  █▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█   ▒▒▒ ▒▒▒     ████ ██▓▓▓▓▓▓▓██████████▓▓▓▓▓▓▓░ ▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒
// ░░░░░░░ ██▒▒▒░▓▓▓▓▓▓▓░▓▓▓▓▓▓▓▓▓▓▓▓ ▓▓   ▒ ▒▒ ▒  ▒ ████ ██▓▓▓▓▓████░   ▓██▓▓▓▓▓▓ ▓░  ░▒▒▒▒▒▒▒▒▒░
// ░░░░░░░ ████▓░ ▓▓▓▒▒    ▓▓▓▓▓▓▓▓░▓▓▓▒ ░░   ▒ ▒▒▒▒  ████ ███████░   ░▒████▓▓▓▓▓ ▓▓▓▓░░
//   ░░░░░ ▓▓▓▓▓▓▓ ▓▓▓▓▓ ▓▓░     ▒▒▓▓▓▓▓▓░ ░ ░ ▒       ████████    █████████▓▓▓▓ █▓▒▓▓▓▓▓▓▓▓▓░                ░
// █  ░░░░░  █▓▓▓▓▓░ ▓▓▓ ▓▓▓▓ ▓▒▓ ▓▓▓▓▓▓▓▓ ░░     ▒▒▒ ░  ███████████████████▓▓▒ ▓▓▓░▓▓▓▓▓▓▓▓                   ░░
// ███  ░░░░░      ▒    ▒▓▓▓░ ▓▓▓░▒▓▓▓▓▓▓▓ ░░░░░  ▒▒▒ ░░░  ▒██████▒▒███████▓▓ ░▓▓▓▓ ▓▓▓▓▓░                      ░░░░
// █████  ░░░░░ ▒▓▓▓▓▓▓▓▓▒▓ ░▓▓█▓ ▓▒░ ▓▓▓▒ ░░░░░ ▒▒░▒        ▒████████████▓  ░▓▓▓▓▓▓▓▓░▓                          ░░
// █████▓▓  ░░░  ▓▓▓▓▓▓▓▓▓ ▓▓▓▒▓▒ ▓▓▓ █▓▒  ░░░░░ ▓▓▒▒           ▒███████  ░▓▓▒▒▓█▒ ▓▓                              ░
// ████████▓  ░░░  ▓▓▓    ▓▓▓▓▓▒ ▓▒▓▓       ░░░ ▒▓▓▒▒         ░░        ████▓▓░███
//  ░▓███████▓  ░░    ▓▓▓▓▓▓▓▓ ▒▓▓▓▓▒           ▒▓▓▒▒ ░░       ░░░░░░░░░░░ ▓█▓▒    ░░░░░░
// .. ░▓██████▓▒  ░░░░  ▓▓▓▓ ▒▓▓▓▓▓▓░           ░▓▓▓▒ ░░░░░    ░░░░░░░░░░░ ▓██▓ ░░░░░░░░░░░░░░░            ░
// .... ▓▓▓██████▒  ░░░░░░  ░▓▓▓▓▓▒     ▒▒▒      ▓▓▓▒ ░░░░░░░   ░░░░░░░░░░░ ▓██ ░░░░░░░░░░░░░░░░░░░░░░░░░░░░
// .....  ▓████████░  ░░░░░░             ████    ▒▒▓▒▒ ░░░░░░░   ░░░░░░░░░░  ▒█  ░░ ▒ ░░░░░░░░░░░░░░░░░░░░░░
// ........ ▓███████▓▓  ░░░░░░░░░░░░░░░    ▒▒▒    ▒░▒▒ ░░░░░░░    ░░░░░░░░ ▒▒▒▒▒▒▒▒▒▒ ░░░░░░░░░░░░░░░░░░░░░
// .........  ▓█████████  ░░░░░░░░░░░░░░░          ▒▒▒▒ ░░░░░░░      ░░░░░ ▒         ░░░░░░░░░░░░░░░░░░░░░░
// ...........  ▓▓███████▓  ░░░░░░░░░░░░░░░░░░░░░░░ ░▒▒▒ ░░░░░░░       ░░░░ ▒  ▓█ ░░░░░░░░░░░░░░░░░░░░░░░░
// .............  ▓██████▓▓▓  ░░░░░░░░░░░░░░░░░░░░░░  ▒▒░ ░░░░░░░░         ░░░░ ▓█ ░░░░░░░░░░░░░░░░░░░░░
// ...............  ▓███████▓▒  ░░░░░░░░░░░░░░░░░░░░░░ ▒▒░ ░░░░░░░░           ░░   ░░░░░░░░░░░░░░░░
// .................  ▓██████▓▓  ░░░░░░░░░░░░░░░░░░░░░░ ░▒░ ░░░░░░░░
// ...................  ▓███████▓  ░░░░░░░░░░░░░░░░░░░░░░ ░▒ ░░░░░░░░░
// ..................... ░▓██████▓▓  ░░░░░░░░░░░░░░░░░░░░░  ░  ░░░░░░░░░
import translate from "translation-google";

import { NintendoDumper } from "./dumpers/northamerica/NorthAmericaDumper";
import { NorthAmericaDumperFactory } from "./dumpers/northamerica/NorthAmericaDumperFactory";
import { NorthAmericaRegions } from "./dumpers/northamerica/NorthAmericaRegions";
import { logger } from "./logging/logger";
import { initializeSequelize } from "./data/sequelize";
import { Game } from "./data/Game";
import { NorthAmericaGame } from "./dumpers/northamerica/NorthAmericaGame";

const dumperGameToModel = (game: NorthAmericaGame): Partial<Game> => ({
  nsuid: parseInt(game.nsuid),
  title: game.title,
});

async function main(): Promise<void> {
  const sequelize = await initializeSequelize();
  const dumper = new NorthAmericaDumperFactory({ region: NorthAmericaRegions.UNITED_STATES }).getInstance();
  const { games } = await dumper.searchAll();
  sequelize.transaction(() => {
    return Promise.all(
      games
        .filter((game) => game.nsuid)
        .map(dumperGameToModel)
        .filter((game) => game.nsuid !== NaN)
        .map((g) => {
          return g;
        })
        .map((g) => Game.upsert(g)),
    );
  });
}

main().then(() => logger.info("Done execution"));
